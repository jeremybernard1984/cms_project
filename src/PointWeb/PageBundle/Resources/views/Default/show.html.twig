{% extends 'PointWebAppBundle::base.html.twig' %}
{% block slider %}

{% endblock %}
{% block content %}
    <!-- Features Section -->
    <div class="row">
        <div class="col-lg-12">
            <h2 class="page-header">{{ entity.title }}</h2>
        </div>
        <!-- choix de la mise en page si pas d'images -->
        {% if entity.pictures|length >0 %}
            {% if entity.layout == 0 or entity.layout == '' %}
                <div class="col-md-12">
                    {{ entity.description|raw }}
                </div>
            {% endif %}
            <!-- slider fer a droite -->
            {% if entity.layout == 1 %}
                <div class="col-md-7">
                    {{ entity.description|raw }}
                </div>
                <div class="col-md-5">
                    <div id="carouselPage" class="carousel slide" data-ride="carousel">
                        <!-- Indicators -->
                        <ol class="carousel-indicators ">
                            {% for picture in entity.pictures %}
                                <li data-target="#carouselPage" data-slide-to="{{  loop.index0 }}" {% if loop.index0 == 0 %}class ="active"{% endif %}></li>
                            {% endfor %}
                        </ol>
                        <div class="carousel-inner">
                            {% for picture in entity.pictures %}
                                <div class="item {% if loop.index0 == 0 %}active{% endif %}">
                                    <img src="{{ asset(picture.getWebPath(base)) }}">
                                    <div class="carousel-caption">
                                        <h2>{{ picture.name }}</h2>
                                    </div>
                                </div>
                            {% endfor %}
                        </div>

                        <a class="left carousel-control" href="#carouselPage" data-slide="prev">
                            <span class="glyphicon glyphicon-chevron-left"></span>
                        </a>
                        <a class="right carousel-control" href="#carouselPage" data-slide="next">
                            <span class="glyphicon glyphicon-chevron-right"></span>
                        </a>
                    </div>
                </div>
            {% endif %}


            <!-- slider fer a gauche -->
            {% if entity.layout == 2 %}
                <div class="col-md-5">
                    <div id="carouselPage" class="carousel slide" data-ride="carousel" data-pause="false">
                        <!-- Indicators -->
                        <ol class="carousel-indicators">
                            {% for picture in entity.pictures %}
                                <li data-target="#carouselPage" data-slide-to="{{  loop.index0 }}" {% if loop.index0 == 0 %}class ="active"{% endif %}></li>
                            {% endfor %}
                        </ol>
                        <div class="carousel-inner">
                            {% for picture in entity.pictures %}
                                <div class="item {% if loop.index0 == 0 %}active{% endif %}">
                                    <img src="{{ asset(picture.getWebPath(base)) }}">
                                    <div class="carousel-caption">
                                        <h2>{{ picture.name }}</h2>
                                    </div>
                                </div>
                            {% endfor %}
                        </div>

                        <a class="left carousel-control" href="#carousel-c" data-slide="prev">
                            <span class="glyphicon glyphicon-chevron-left"></span>
                        </a>
                        <a class="right carousel-control" href="#carousel-c" data-slide="next">
                            <span class="glyphicon glyphicon-chevron-right"></span>
                        </a>
                    </div>
                </div>

                <div class="col-md-7">
                    {{ entity.description|raw }}
                </div>
            {% endif %}


            <!-- Image Fer à droite -->
            {% if entity.layout == 3 %}
            <div class="col-md-9">
                {{ entity.description|raw }}
            </div>
            <div class="col-md-3">
                    {% for picture in entity.pictures %}
                        <a class="fancybox" href="{{ asset(entity.pictures[0].getWebPath(base)) }}">
                            <img class="img-responsive" alt="{{ picture.name }}" src="{{ asset(picture.getWebPath(base)) }}" data-image="{{ asset(picture.getWebPath(base)) }}">
                        </a>
                        <hr>
                    {% endfor %}
            </div>
            {% endif %}

            <!-- Image Fer à gauche -->
            {% if entity.layout == 4 %}
                <div class="col-md-3">
                    {% for picture in entity.pictures %}
                        <a class="fancybox" href="{{ asset(entity.pictures[0].getWebPath(base)) }}">
                            <img class="img-responsive" alt="{{ picture.name }}" src="{{ asset(picture.getWebPath(base)) }}" data-image="{{ asset(picture.getWebPath(base)) }}">
                        </a>
                        <hr>
                    {% endfor %}
                </div>
                <div class="col-md-9">
                    {{ entity.description|raw }}
                </div>
            {% endif %}
        {% else %}
            <div class="col-md-12">
                {{ entity.description|raw }}
            </div>
        {% endif %}
    </div>
    <!-- /.row -->

{% endblock %}